<ion-toolbar color="clear">
  <ion-buttons>
    <ion-button (click)="cancel()" color="medium">
      <ion-icon name="ios-arrow-round-back" slot="start"></ion-icon> Cancel
    </ion-button>
  </ion-buttons>
</ion-toolbar>
<ion-list *ngIf="!completed">
  <ion-item class="amount">
    <ion-input type="tel" [(ngModel)]="amount" [disabled]="loading || running" clearInput></ion-input>
  </ion-item>
  <ion-item *ngIf="code" class="code">
    <ion-label>{{code}}</ion-label>
  </ion-item>
  <ion-item *ngIf="code || loading" class="qrCode">
      <qrcode *ngIf="code" [qrdata]="code" [size]="256" [level]="'M'"></qrcode>
      <ion-spinner *ngIf="loading" color="highlight" class="large-spinner"></ion-spinner>
  </ion-item>
  <ion-item>
    <ion-button color="highlight" shape="round" size="large" shape="outline" expand="block" (click)="create()" *ngIf="!qrCode" [disabled]="loading || running">
      <span *ngIf="!loading && !running"><ion-icon name="md-paper-plane" slot="start"></ion-icon> Create</span>
      <ion-spinner *ngIf="loading || running" color="highlight"></ion-spinner>
    </ion-button>
    <ion-button color="highlight" shape="round" size="large" expand="block" (click)="check()" *ngIf="code" [disabled]="running">
      <span *ngIf="!running"><ion-icon name="reload" slot="start"></ion-icon> Check</span>
      <ion-spinner *ngIf="runing" color="highlight"></ion-spinner>
    </ion-button>
  </ion-item>
</ion-list>
<ion-list *ngIf="completed">
    <ion-item>
      <ion-icon size="large" name="checkmark-circle-outline"></ion-icon>
      <ion-label>Complete</ion-label>
    </ion-item>
    <ion-item>
      <ion-button (click)="clearData()" size="large" fill="outline" color="secondary" shape="round">
        <ion-icon name="ios-send" slot="start"></ion-icon> Create Another
      </ion-button>
    </ion-item>
</ion-list>